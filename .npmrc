# Cloudflare Pages 优化配置
audit=false
fund=false
progress=false

# 使用官方 npm 注册表（Cloudflare 网络更稳定）
registry=https://registry.npmjs.org/

# 网络超时设置 - 适合 Cloudflare 环境
timeout=300000
fetch-retries=3
fetch-retry-factor=10
fetch-retry-mintimeout=10000
fetch-retry-maxtimeout=60000

# 并发控制 - 避免网络拥塞
maxsockets=10
network-concurrency=1

# 依赖解析优化
legacy-peer-deps=true
strict-peer-deps=false

# 缓存和安装优化
prefer-offline=false
cache-max=300000
shrinkwrap=false

# 禁用可选依赖
optional=false
